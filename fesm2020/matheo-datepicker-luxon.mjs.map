{"version":3,"file":"matheo-datepicker-luxon.mjs","sources":["../../../../libs/datepicker/luxon/luxon-date-adapter.ts","../../../../libs/datepicker/luxon/luxon-date-formats.ts","../../../../libs/datepicker/luxon/index.ts","../../../../libs/datepicker/luxon/matheo-datepicker-luxon.ts"],"sourcesContent":["/**\r\n * @license\r\n * Copyright Google LLC All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\n\r\nimport { Inject, Injectable, Optional, InjectionToken } from '@angular/core';\r\nimport { MAT_DATE_LOCALE } from '@angular/material/core';\r\nimport { DateAdapter } from '@matheo/datepicker/core';\r\nimport { DateTime, Info, DateTimeOptions } from 'luxon';\r\n\r\n/** Configurable options for {@see LuxonDateAdapter}. */\r\nexport interface MatLuxonDateAdapterOptions {\r\n  /**\r\n   * Turns the use of utc dates on or off.\r\n   * Changing this will change how Angular Material components like DatePicker output dates.\r\n   * {@default false}\r\n   */\r\n  useUtc: boolean;\r\n\r\n  /**\r\n   * Luxon does not have support for retrieving the first day of the week.\r\n   * This allows supplying a custom function to override it.\r\n   * Remember that you need to return 0 = Sunday, 1 = Monday\r\n   */\r\n  firstDayOfWeek?: (locale: string) => number;\r\n}\r\n\r\n/** InjectionToken for LuxonDateAdapter to configure options. */\r\nexport const MAT_LUXON_DATE_ADAPTER_OPTIONS = new InjectionToken<MatLuxonDateAdapterOptions>(\r\n  'MAT_LUXON_DATE_ADAPTER_OPTIONS',\r\n  {\r\n    providedIn: 'root',\r\n    factory: MAT_LUXON_DATE_ADAPTER_OPTIONS_FACTORY,\r\n  }\r\n);\r\n\r\n/** @docs-private */\r\nexport function MAT_LUXON_DATE_ADAPTER_OPTIONS_FACTORY(): MatLuxonDateAdapterOptions {\r\n  return {\r\n    useUtc: false,\r\n  };\r\n}\r\n\r\n/** The default date names to use if Intl API is not available. */\r\nconst DEFAULT_DATE_NAMES = range(31, (i) => String(i + 1));\r\n\r\n/** The default hour names to use if Intl API is not available. */\r\nconst DEFAULT_HOUR_NAMES = range(24, (i) => (i === 0 ? '00' : String(i)));\r\n\r\n/** The default minute names to use if Intl API is not available. */\r\nconst DEFAULT_MINUTE_NAMES = range(60, String);\r\n\r\n/** Creates an array and fills it with values. */\r\nfunction range<T>(length: number, valueFunction: (index: number) => T): T[] {\r\n  const valuesArray = Array(length);\r\n  for (let i = 0; i < length; i++) {\r\n    valuesArray[i] = valueFunction(i);\r\n  }\r\n  return valuesArray;\r\n}\r\n\r\n/** Adapts Luxon Dates for use with Angular Material. */\r\n@Injectable()\r\nexport class LuxonDateAdapter extends DateAdapter<DateTime> {\r\n  private _useUTC: boolean;\r\n  private _getFirstDayOfWeek: MatLuxonDateAdapterOptions['firstDayOfWeek'];\r\n\r\n  constructor(\r\n    @Optional() @Inject(MAT_DATE_LOCALE) dateLocale: string,\r\n    @Optional()\r\n    @Inject(MAT_LUXON_DATE_ADAPTER_OPTIONS)\r\n    options?: MatLuxonDateAdapterOptions\r\n  ) {\r\n    super();\r\n    this._useUTC = options ? !!options.useUtc : false;\r\n    this._getFirstDayOfWeek = options?.firstDayOfWeek;\r\n    this.setLocale(dateLocale || DateTime.local().locale);\r\n  }\r\n\r\n  setLocale(locale: string) {\r\n    super.setLocale(locale);\r\n  }\r\n\r\n  getYear(date: DateTime): number {\r\n    return date.year;\r\n  }\r\n\r\n  getMonth(date: DateTime): number {\r\n    // Luxon works with 1-indexed months whereas our code expects 0-indexed.\r\n    return date.month - 1;\r\n  }\r\n\r\n  getDate(date: DateTime): number {\r\n    return date.day;\r\n  }\r\n\r\n  getHours(date: DateTime): number {\r\n    return date.hour;\r\n  }\r\n\r\n  setHours(date: DateTime, hour: number): DateTime {\r\n    return date.set({ hour });\r\n  }\r\n\r\n  getMinutes(date: DateTime): number {\r\n    return date.minute;\r\n  }\r\n\r\n  setMinutes(date: DateTime, minute: number): DateTime {\r\n    return date.set({ minute });\r\n  }\r\n\r\n  getSeconds(date: DateTime): number {\r\n    return date.second;\r\n  }\r\n\r\n  setSeconds(date: DateTime, second: number, ms?: number): DateTime {\r\n    return date.set({ second, millisecond: ms });\r\n  }\r\n\r\n  getMilliseconds(date: DateTime): number {\r\n    return date.millisecond;\r\n  }\r\n\r\n  getDayOfWeek(date: DateTime): number {\r\n    return date.weekday === 7 ? 0 : date.weekday;\r\n  }\r\n\r\n  getMonthNames(style: 'long' | 'short' | 'narrow'): string[] {\r\n    return Info.months(style, { locale: this.locale });\r\n  }\r\n\r\n  getDateNames(): string[] {\r\n    if (Info.features().intl) {\r\n      // At the time of writing, Luxon doesn't offer similar\r\n      // functionality so we have to fall back to the Intl API.\r\n      const dtf = new Intl.DateTimeFormat(this.locale, {\r\n        day: 'numeric',\r\n        timeZone: 'utc',\r\n      });\r\n\r\n      return range(31, (i) => {\r\n        // Format a UTC date in order to avoid DST issues.\r\n        const date = DateTime.utc(2017, 1, i + 1).toJSDate();\r\n\r\n        // Strip the directionality characters from the formatted date.\r\n        return dtf.format(date).replace(/[\\u200e\\u200f]/g, '');\r\n      });\r\n    }\r\n    return DEFAULT_DATE_NAMES;\r\n  }\r\n\r\n  getHourNames(): string[] {\r\n    return DEFAULT_HOUR_NAMES;\r\n  }\r\n\r\n  getMinuteNames(): string[] {\r\n    return DEFAULT_MINUTE_NAMES;\r\n  }\r\n\r\n  getDayOfWeekNames(style: 'long' | 'short' | 'narrow'): string[] {\r\n    const luxonWeekdays = [...Info.weekdays(style, { locale: this.locale })];\r\n    // luxon returns the first day of week as Monday\r\n    // but angular material expects Sunday, so we rotate the array\r\n    luxonWeekdays.unshift(luxonWeekdays.pop()!);\r\n    return luxonWeekdays;\r\n  }\r\n\r\n  getYearName(date: DateTime): string {\r\n    return date.toFormat('yyyy');\r\n  }\r\n\r\n  getFirstDayOfWeek(): number {\r\n    // Luxon doesn't have support for getting the first day of the week.\r\n    if (this._getFirstDayOfWeek) {\r\n      return this._getFirstDayOfWeek(this.locale);\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  getNumDaysInMonth(date: DateTime): number {\r\n    return date.daysInMonth;\r\n  }\r\n\r\n  clone(date: DateTime): DateTime {\r\n    return DateTime.fromObject(date.toObject({ includeConfig: true }));\r\n  }\r\n\r\n  createDate(\r\n    year: number,\r\n    month: number,\r\n    date: number,\r\n    hours: number = 0,\r\n    minutes: number = 0,\r\n    seconds: number = 0,\r\n    ms: number = 0\r\n  ): DateTime {\r\n    if (month < 0 || month > 11) {\r\n      throw Error(\r\n        `Invalid month index \"${month}\". Month index has to be between 0 and 11.`\r\n      );\r\n    }\r\n\r\n    if (date < 1) {\r\n      throw Error(`Invalid date \"${date}\". Date has to be greater than 0.`);\r\n    }\r\n\r\n    // Luxon uses 1-indexed months so we need to add one to the month.\r\n    const result = this._useUTC\r\n      ? DateTime.utc(year, month + 1, date, hours, minutes, seconds, ms)\r\n      : DateTime.local(year, month + 1, date, hours, minutes, seconds, ms);\r\n\r\n    if (!this.isValid(result)) {\r\n      throw Error(`Invalid date \"${date}\". Reason: \"${result.invalidReason}\".`);\r\n    }\r\n\r\n    return result.setLocale(this.locale);\r\n  }\r\n\r\n  today(): DateTime {\r\n    return (this._useUTC ? DateTime.utc() : DateTime.local()).setLocale(\r\n      this.locale\r\n    );\r\n  }\r\n\r\n  parse(value: any, parseFormat: string | string[]): DateTime | null {\r\n    const options: DateTimeOptions = this._getOptions();\r\n\r\n    if (typeof value == 'string' && value.length > 0) {\r\n      const iso8601Date = DateTime.fromISO(value, options);\r\n\r\n      if (this.isValid(iso8601Date)) {\r\n        return iso8601Date;\r\n      }\r\n\r\n      const parseFormats = Array.isArray(parseFormat)\r\n        ? parseFormat\r\n        : [parseFormat];\r\n      for (const format of parseFormats) {\r\n        const fromFormat = DateTime.fromFormat(value, format, options);\r\n\r\n        if (this.isValid(fromFormat)) {\r\n          return fromFormat;\r\n        }\r\n      }\r\n\r\n      return this.invalid();\r\n    } else if (typeof value === 'number') {\r\n      return DateTime.fromMillis(value, options);\r\n    } else if (value instanceof Date) {\r\n      return DateTime.fromJSDate(value, options);\r\n    } else if (value instanceof DateTime) {\r\n      return DateTime.fromMillis(value.toMillis(), options);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  format(date: DateTime, displayFormat: string): string {\r\n    if (!this.isValid(date)) {\r\n      throw Error('LuxonDateAdapter: Cannot format invalid date.');\r\n    }\r\n    return date\r\n      .setLocale(this.locale)\r\n      .toFormat(displayFormat, { timeZone: this._useUTC ? 'utc' : undefined });\r\n  }\r\n\r\n  addCalendarYears(date: DateTime, years: number): DateTime {\r\n    return date.plus({ years }).setLocale(this.locale);\r\n  }\r\n\r\n  addCalendarMonths(date: DateTime, months: number): DateTime {\r\n    return date.plus({ months }).setLocale(this.locale);\r\n  }\r\n\r\n  addCalendarDays(date: DateTime, days: number): DateTime {\r\n    return date.plus({ days }).setLocale(this.locale);\r\n  }\r\n\r\n  addCalendarHours(date: DateTime, hours: number): DateTime {\r\n    return date.plus({ hours });\r\n  }\r\n\r\n  addCalendarMinutes(date: DateTime, minutes: number): DateTime {\r\n    return date.plus({ minutes });\r\n  }\r\n\r\n  addCalendarSeconds(date: DateTime, seconds: number, ms?: number): DateTime {\r\n    return date.plus({ seconds, milliseconds: ms });\r\n  }\r\n\r\n  toIso8601(date: DateTime): string {\r\n    return date.toISO();\r\n  }\r\n\r\n  /**\r\n   * Returns the given value if given a valid Luxon or null. Deserializes valid ISO 8601 strings\r\n   * (https://www.ietf.org/rfc/rfc3339.txt) and valid Date objects into valid DateTime and empty\r\n   * string into null. Returns an invalid date for all other values.\r\n   */\r\n  deserialize(value: any): DateTime | null {\r\n    const options = this._getOptions();\r\n    let date;\r\n    if (value instanceof Date) {\r\n      date = DateTime.fromJSDate(value, options);\r\n    }\r\n    if (typeof value === 'string') {\r\n      if (!value) {\r\n        return null;\r\n      }\r\n      date = DateTime.fromISO(value, options);\r\n    }\r\n    if (date && this.isValid(date)) {\r\n      return date;\r\n    }\r\n    return super.deserialize(value);\r\n  }\r\n\r\n  isDateInstance(obj: any): boolean {\r\n    return obj instanceof DateTime;\r\n  }\r\n\r\n  isValid(date: DateTime): boolean {\r\n    return date.isValid;\r\n  }\r\n\r\n  invalid(): DateTime {\r\n    return DateTime.invalid('Invalid Luxon DateTime object.');\r\n  }\r\n\r\n  /** Gets the options that should be used when constructing a new `DateTime` object. */\r\n  private _getOptions(): DateTimeOptions {\r\n    return {\r\n      zone: this._useUTC ? 'utc' : undefined,\r\n      locale: this.locale,\r\n    };\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Google LLC All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\n\r\nimport { MatDateFormats } from '@matheo/datepicker/core';\r\n\r\nexport const MAT_LUXON_DATE_FORMATS: MatDateFormats = {\r\n  parse: {\r\n    dateInput: 'D',\r\n    datetimeInput: 'f',\r\n    timeInput: 'h:mm',\r\n    monthInput: 'LLL',\r\n    yearInput: 'yyyy',\r\n  },\r\n  display: {\r\n    dateInput: 'D',\r\n    datetimeInput: 'f',\r\n    timeInput: 'T',\r\n    monthInput: 'LLL yyyy',\r\n    yearInput: 'yyyy',\r\n    dateA11yLabel: 'DD',\r\n    monthLabel: 'LLL',\r\n    monthDayLabel: 'LLL d',\r\n    monthDayA11yLabel: 'LLLL d',\r\n    monthYearLabel: 'LLL yyyy',\r\n    monthYearA11yLabel: 'LLLL yyyy',\r\n    timeLabel: 'T',\r\n  },\r\n};\r\n","/**\r\n * @license\r\n * Copyright Google LLC All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport {\r\n  DateAdapter as MaterialDateAdapter,\r\n  MAT_DATE_FORMATS,\r\n  MAT_DATE_LOCALE,\r\n} from '@angular/material/core';\r\nimport { DateAdapter } from '@matheo/datepicker/core';\r\nimport {\r\n  MAT_LUXON_DATE_ADAPTER_OPTIONS,\r\n  LuxonDateAdapter,\r\n} from './luxon-date-adapter';\r\nimport { MAT_LUXON_DATE_FORMATS } from './luxon-date-formats';\r\n\r\nexport * from './luxon-date-adapter';\r\nexport * from './luxon-date-formats';\r\n\r\n@NgModule({\r\n  providers: [\r\n    {\r\n      provide: DateAdapter,\r\n      useClass: LuxonDateAdapter,\r\n      deps: [MAT_DATE_LOCALE, MAT_LUXON_DATE_ADAPTER_OPTIONS],\r\n    },\r\n    {\r\n      provide: MaterialDateAdapter,\r\n      useClass: LuxonDateAdapter,\r\n      deps: [MAT_DATE_LOCALE, MAT_LUXON_DATE_ADAPTER_OPTIONS],\r\n    },\r\n  ],\r\n})\r\nexport class LuxonDateModule {}\r\n\r\n@NgModule({\r\n  imports: [LuxonDateModule],\r\n  providers: [{ provide: MAT_DATE_FORMATS, useValue: MAT_LUXON_DATE_FORMATS }],\r\n})\r\nexport class MatLuxonDateModule {}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["MaterialDateAdapter"],"mappings":"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"}